"use strict";(self.webpackChunkans_webapp=self.webpackChunkans_webapp||[]).push([[977],{9977:(Ye,F,a)=>{a.r(F),a.d(F,{HomeModule:()=>we});var c=a(1048),E=a(2574),T=a(8773),e=a(9724),U=a(1001),x=a(1062),f=a(8918),A=a(3143);let D=(()=>{class n{constructor(){this.isCollapsed=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:35,vars:4,consts:[[1,"app-layout"],["nzCollapsible","","nzWidth","256px","nzBreakpoint","md",1,"menu-sidebar",3,"nzCollapsed","nzTrigger","nzCollapsedChange"],[1,"sidebar-logo"],["href","https://ng.ant.design/","target","_blank"],["src","https://ng.ant.design/assets/img/logo.svg","alt","logo"],["nz-menu","","nzTheme","dark","nzMode","inline",3,"nzInlineCollapsed"],["nz-submenu","","nzOpen","","nzTitle","\u5e16\u5b50\u7ba1\u7406","nzIcon","dashboard"],["nz-menu-item","","nzMatchRouter",""],["routerLink","task"],["nz-submenu","","nzOpen","","nzTitle","\u7528\u6237\u7ba1\u7406","nzIcon","form"],["routerLink","user"],[1,"app-header"],[1,"header-trigger",3,"click"],["nz-icon","",1,"trigger",3,"nzType"],[1,"inner-content"]],template:function(t,o){1&t&&(e.TgZ(0,"nz-layout",0)(1,"nz-sider",1),e.NdJ("nzCollapsedChange",function(s){return o.isCollapsed=s}),e.TgZ(2,"div",2)(3,"a",3),e._UZ(4,"img",4),e.TgZ(5,"h1"),e._uU(6,"Ant Design Of Angular"),e.qZA()()(),e.TgZ(7,"ul",5)(8,"li",6)(9,"ul")(10,"li",7)(11,"a",8),e._uU(12,"\u5e16\u5b50"),e.qZA()(),e.TgZ(13,"li",7)(14,"a"),e._uU(15,"232323"),e.qZA()(),e.TgZ(16,"li",7)(17,"a"),e._uU(18,"Workplace"),e.qZA()()()(),e.TgZ(19,"li",9)(20,"ul")(21,"li",7)(22,"a",10),e._uU(23,"\u7528\u6237"),e.qZA()(),e.TgZ(24,"li",7)(25,"a"),e._uU(26,"Basic Form"),e.qZA()()()()()(),e.TgZ(27,"nz-layout")(28,"nz-header")(29,"div",11)(30,"span",12),e.NdJ("click",function(){return o.isCollapsed=!o.isCollapsed}),e._UZ(31,"i",13),e.qZA()()(),e.TgZ(32,"nz-content")(33,"div",14),e._UZ(34,"router-outlet"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("nzCollapsed",o.isCollapsed)("nzTrigger",null),e.xp6(6),e.Q6J("nzInlineCollapsed",o.isCollapsed),e.xp6(24),e.Q6J("nzType",o.isCollapsed?"menu-unfold":"menu-fold"))},directives:[U.hw,U.t7,x.wO,f.w,x.rY,x.r9,T.yS,U.E8,A.Ls,U.OK,T.lC],styles:["[_nghost-%COMP%]{display:flex;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-layout[_ngcontent-%COMP%]{height:100vh}.menu-sidebar[_ngcontent-%COMP%]{position:relative;z-index:10;min-height:100vh;box-shadow:2px 0 6px #00152959}.header-trigger[_ngcontent-%COMP%]{height:64px;padding:20px 24px;font-size:20px;cursor:pointer;transition:all .3s,padding 0s}.trigger[_ngcontent-%COMP%]:hover{color:#1890ff}.sidebar-logo[_ngcontent-%COMP%]{position:relative;height:64px;padding-left:24px;overflow:hidden;line-height:64px;background:#001529;transition:all .3s}.sidebar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline-block;height:32px;width:32px;vertical-align:middle}.sidebar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block;margin:0 0 0 20px;color:#fff;font-weight:600;font-size:14px;font-family:Avenir,Helvetica Neue,Arial,Helvetica,sans-serif;vertical-align:middle}nz-header[_ngcontent-%COMP%]{padding:0;width:100%;z-index:2}.app-header[_ngcontent-%COMP%]{position:relative;height:64px;padding:0;background:#fff;box-shadow:0 1px 4px #00152914}nz-content[_ngcontent-%COMP%]{margin:24px}.inner-content[_ngcontent-%COMP%]{padding:24px;background:#fff;height:100%}"]}),n})();var m=a(8718),v=a(3964),b=a(9725);let q=(()=>{class n{constructor(t,o){this.urlService=t,this.http=o}getJobList(){const t=this.urlService.getUrl("/job/getJobAll");return this.http.post(t,{})}getDepartmentList(){const t=this.urlService.getUrl("/department/getDepartmentAll");return this.http.post(t,{})}getRoleList(){const t=this.urlService.getUrl("/role/getRoleAll");return this.http.post(t,{})}createUser(t){const o=this.urlService.getUrl("/user/add");return this.http.post(o,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.i),e.LFG(b.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var N=a(2720),C=a(8490),l=a(9508),u=a(7082),g=a(5535),z=a(1521),_=a(8314),M=a(4344),Z=a(8238);const B=["formElement"];function w(n,r){1&n&&(e.ynx(0),e._uU(1,"\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a"),e.BQk())}function Y(n,r){1&n&&e.YNc(0,w,2,0,"ng-container",18),2&n&&e.Q6J("ngIf",r.$implicit.hasError("required"))}function P(n,r){1&n&&(e.ynx(0),e._uU(1,"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"),e.BQk())}function I(n,r){1&n&&e.YNc(0,P,2,0,"ng-container",18),2&n&&e.Q6J("ngIf",r.$implicit.hasError("required"))}function H(n,r){1&n&&(e.ynx(0),e._uU(1,"\u8b66\u53f7\u4e0d\u80fd\u4e3a\u7a7a"),e.BQk())}function V(n,r){1&n&&e.YNc(0,H,2,0,"ng-container",18),2&n&&e.Q6J("ngIf",r.$implicit.hasError("required"))}function j(n,r){if(1&n&&e._UZ(0,"nz-option",19),2&n){const t=r.$implicit;e.Q6J("nzValue",t)("nzLabel",t.departmentName)}}function R(n,r){1&n&&(e.ynx(0),e._uU(1,"\u8b66\u53f7\u4e0d\u80fd\u4e3a\u7a7a"),e.BQk())}function W(n,r){1&n&&e.YNc(0,R,2,0,"ng-container",18),2&n&&e.Q6J("ngIf",r.$implicit.hasError("required"))}function $(n,r){if(1&n&&e._UZ(0,"nz-option",19),2&n){const t=r.$implicit;e.Q6J("nzValue",t)("nzLabel",t.jobName)}}function G(n,r){if(1&n&&e._UZ(0,"nz-option",19),2&n){const t=r.$implicit;e.Q6J("nzValue",t)("nzLabel",t.roleName)}}function K(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleCancel()}),e._uU(2,"\u53d6\u6d88"),e.qZA(),e.TgZ(3,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().createUser()}),e._uU(4,"\u786e\u5b9a"),e.qZA()()}if(2&n){const t=e.oxw(),o=e.MAs(1);e.xp6(3),e.Q6J("disabled",!(null!=o&&o.form.valid))("nzLoading",t.loading)}}let X=(()=>{class n{constructor(t,o,i,s){this.createUserS=t,this.cd=o,this.message=i,this.modal=s,this.listOfUser=[],this.user=new m.n5,this.roleList=[],this.jobList=[],this.departmentList=[],this.isVisible=!1,this.loading=!1}ngOnInit(){this.getJobList(),this.getRoleList(),this.getDepartmentList()}createUser(){this.loading=!0,this.createUserS.createUser(this.user).subscribe(t=>{this.loading=!1,this.message.success("\u6dfb\u52a0\u7528\u6237\u6210\u529f"),this.closeModal()})}handleCancel(){this.user=new m.n5,this.closeModal()}change(t){console.log(t)}closeModal(){this.modal.destroy()}getJobList(){this.createUserS.getJobList().subscribe(t=>{this.jobList=t})}getDepartmentList(){this.createUserS.getDepartmentList().subscribe(t=>{this.departmentList=t})}getRoleList(){this.createUserS.getRoleList().subscribe(t=>{this.roleList=t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q),e.Y36(e.sBO),e.Y36(N.dD),e.Y36(C.Lf))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-user"]],viewQuery:function(t,o){if(1&t&&e.Gf(B,5),2&t){let i;e.iGM(i=e.CRH())&&(o.formElement=i.first)}},decls:44,vars:13,consts:[["nz-form",""],["formElement","ngForm"],["nz-row",""],["nzRequired","","nz-col","","nzSpan","4"],["nz-col","","nzSpan","18","nzHasFeedback","",3,"nzErrorTip"],["nz-input","","name","UserName","required","",3,"ngModel","ngModelChange"],["UserNameTpl",""],["nz-input","","type","password","name","password","required","",3,"ngModel","ngModelChange"],["passwordTpl",""],["nz-input","","type","text","name","policeNumber","required","",3,"ngModel","ngModelChange"],["policeNumberTpl",""],["nz-col","","nzSpan","4"],["nz-col","","nzSpan","18","nzHasFeedback",""],["name","department",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["departmentTpl",""],["name","role",3,"ngModel","ngModelChange"],[4,"nzModalFooter"],[4,"ngIf"],[3,"nzValue","nzLabel"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"disabled","nzLoading","click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0,1)(2,"nz-form-item",2)(3,"nz-form-label",3),e._uU(4,"\u7528\u6237\u540d"),e.qZA(),e.TgZ(5,"nz-form-control",4)(6,"input",5),e.NdJ("ngModelChange",function(s){return o.user.username=s}),e.qZA(),e.YNc(7,Y,1,1,"ng-template",null,6,e.W1O),e.qZA()(),e.TgZ(9,"nz-form-item")(10,"nz-form-label",3),e._uU(11,"\u5bc6\u7801"),e.qZA(),e.TgZ(12,"nz-form-control",4)(13,"input",7),e.NdJ("ngModelChange",function(s){return o.user.password=s}),e.qZA(),e.YNc(14,I,1,1,"ng-template",null,8,e.W1O),e.qZA()(),e.TgZ(16,"nz-form-item")(17,"nz-form-label",3),e._uU(18,"\u8b66\u53f7"),e.qZA(),e.TgZ(19,"nz-form-control",4)(20,"input",9),e.NdJ("ngModelChange",function(s){return o.user.policeNumber=s}),e.qZA(),e.YNc(21,V,1,1,"ng-template",null,10,e.W1O),e.qZA()(),e.TgZ(23,"nz-form-item")(24,"nz-form-label",11),e._uU(25,"\u90e8\u95e8"),e.qZA(),e.TgZ(26,"nz-form-control",12)(27,"nz-select",13),e.NdJ("ngModelChange",function(s){return o.user.department=s}),e.YNc(28,j,1,2,"nz-option",14),e.qZA(),e.YNc(29,W,1,1,"ng-template",null,15,e.W1O),e.qZA()(),e.TgZ(31,"nz-form-item")(32,"nz-form-label",11),e._uU(33,"\u804c\u4f4d"),e.qZA(),e.TgZ(34,"nz-form-control",12)(35,"nz-select",16),e.NdJ("ngModelChange",function(s){return o.user.job=s}),e.YNc(36,$,1,2,"nz-option",14),e.qZA()()(),e.TgZ(37,"nz-form-item")(38,"nz-form-label",11),e._uU(39,"\u89d2\u8272"),e.qZA(),e.TgZ(40,"nz-form-control",4)(41,"nz-select",16),e.NdJ("ngModelChange",function(s){return o.user.role=s}),e.YNc(42,G,1,2,"nz-option",14),e.qZA()()()(),e.YNc(43,K,5,2,"div",17)),2&t){const i=e.MAs(8),s=e.MAs(15),p=e.MAs(22),d=e.MAs(30);e.xp6(5),e.Q6J("nzErrorTip",i),e.xp6(1),e.Q6J("ngModel",o.user.username),e.xp6(6),e.Q6J("nzErrorTip",s),e.xp6(1),e.Q6J("ngModel",o.user.password),e.xp6(6),e.Q6J("nzErrorTip",p),e.xp6(1),e.Q6J("ngModel",o.user.policeNumber),e.xp6(7),e.Q6J("ngModel",o.user.department),e.xp6(1),e.Q6J("ngForOf",o.departmentList),e.xp6(7),e.Q6J("ngModel",o.user.job),e.xp6(1),e.Q6J("ngForOf",o.jobList),e.xp6(4),e.Q6J("nzErrorTip",d),e.xp6(1),e.Q6J("ngModel",o.user.role),e.xp6(1),e.Q6J("ngForOf",o.roleList)}},directives:[l._Y,l.JL,l.F,u.Lr,g.SK,u.Nx,g.t3,u.iK,u.Fd,z.Zp,l.Fj,l.Q7,l.JJ,l.On,c.O5,_.Vq,c.sg,_.Ip,C.Uh,M.ix,Z.dQ,f.w],styles:[""]}),n})();var S=a(4762);let ee=(()=>{class n{constructor(t,o){this.urlService=t,this.http=o}getJobList(){const t=this.urlService.getUrl("/job/getJobAll");return this.http.post(t,{})}getDepartmentList(){const t=this.urlService.getUrl("/department/getDepartmentAll");return this.http.post(t,{})}getRoleList(){const t=this.urlService.getUrl("/role/getRoleAll");return this.http.post(t,{})}updateUser(t){const o=this.urlService.getUrl("/user/edit");return this.http.post(o,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.i),e.LFG(b.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const te=["formElement"];function ne(n,r){1&n&&(e.ynx(0),e._uU(1,"\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a"),e.BQk())}function oe(n,r){1&n&&e.YNc(0,ne,2,0,"ng-container",15),2&n&&e.Q6J("ngIf",r.$implicit.hasError("required"))}function re(n,r){if(1&n&&e._UZ(0,"nz-option",16),2&n){const t=r.$implicit;e.Q6J("nzValue",t)("nzLabel",t.departmentName)}}function ie(n,r){if(1&n&&e._UZ(0,"nz-option",16),2&n){const t=r.$implicit;e.Q6J("nzValue",t)("nzLabel",t.jobName)}}function se(n,r){if(1&n&&e._UZ(0,"nz-option",16),2&n){const t=r.$implicit;e.Q6J("nzValue",t)("nzLabel",t.roleName)}}function ae(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().handleCancel()}),e._uU(2,"\u53d6\u6d88"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateUser()}),e._uU(4,"\u786e\u5b9a"),e.qZA()()}if(2&n){const t=e.oxw(),o=e.MAs(1);e.xp6(3),e.Q6J("disabled",!(null!=o&&o.form.valid))("nzLoading",t.loading)}}let le=(()=>{class n{constructor(t,o,i,s){this.UpdateUserS=t,this.cd=o,this.message=i,this.modal=s,this.listOfUser=[],this.roleList=[],this.jobList=[],this.departmentList=[],this.isVisible=!1,this.loading=!1,this.compareFn=(p,d)=>p&&d?p._id===d._id:p===d}set user(t){this.userOption=new m.n5(t)}get user(){return(0,S._T)(this.userOption,["password"])}ngOnInit(){this.getJobList(),this.getRoleList(),this.getDepartmentList(),console.log(this.user)}openModal(t){this.modalTitle=t,this.isVisible=!0,this.cd.detectChanges()}updateUser(){this.loading=!0,this.UpdateUserS.updateUser(this.userOption).subscribe(t=>{this.loading=!1,this.message.success("\u66f4\u65b0\u7528\u6237\u6210\u529f"),this.closeModal()})}handleCancel(){this.user=new m.n5,this.closeModal()}log(t,o){console.log(t,o)}change(t){console.log(t)}closeModal(){this.modal.destroy()}getJobList(){this.UpdateUserS.getJobList().subscribe(t=>{this.jobList=t})}getDepartmentList(){this.UpdateUserS.getDepartmentList().subscribe(t=>{this.departmentList=t})}getRoleList(){this.UpdateUserS.getRoleList().subscribe(t=>{this.roleList=t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ee),e.Y36(e.sBO),e.Y36(N.dD),e.Y36(C.Lf))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-user"]],viewQuery:function(t,o){if(1&t&&e.Gf(te,5),2&t){let i;e.iGM(i=e.CRH())&&(o.formElement=i.first)}},inputs:{user:"user"},decls:33,vars:12,consts:[["nz-form",""],["formElement","ngForm"],["nz-row",""],["nzRequired","","nz-col","","nzSpan","4"],["nz-col","","nzSpan","18","nzHasFeedback","",3,"nzErrorTip"],["nz-input","","name","UserName","required","",3,"ngModel","ngModelChange"],["UserNameTpl",""],["nz-col","","nzSpan","18","nzHasFeedback",""],["nz-input","","type","text","name","policeNumber","required","",3,"ngModel","ngModelChange"],["nz-col","","nzSpan","4"],["name","department",3,"ngModel","compareWith","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["name","job",3,"ngModel","compareWith","ngModelChange"],["name","userRole",3,"ngModel","compareWith","ngModelChange"],[4,"nzModalFooter"],[4,"ngIf"],[3,"nzValue","nzLabel"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"disabled","nzLoading","click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"form",0,1)(2,"nz-form-item",2)(3,"nz-form-label",3),e._uU(4,"\u7528\u6237\u540d"),e.qZA(),e.TgZ(5,"nz-form-control",4)(6,"input",5),e.NdJ("ngModelChange",function(s){return o.userOption.username=s}),e.qZA(),e.YNc(7,oe,1,1,"ng-template",null,6,e.W1O),e.qZA()(),e.TgZ(9,"nz-form-item")(10,"nz-form-label",3),e._uU(11,"\u8b66\u53f7"),e.qZA(),e.TgZ(12,"nz-form-control",7)(13,"input",8),e.NdJ("ngModelChange",function(s){return o.userOption.policeNumber=s}),e.qZA()()(),e.TgZ(14,"nz-form-item")(15,"nz-form-label",9),e._uU(16,"\u90e8\u95e8"),e.qZA(),e.TgZ(17,"nz-form-control",7)(18,"nz-select",10),e.NdJ("ngModelChange",function(s){return o.userOption.department=s}),e.YNc(19,re,1,2,"nz-option",11),e.qZA()()(),e.TgZ(20,"nz-form-item")(21,"nz-form-label",9),e._uU(22,"\u804c\u4f4d"),e.qZA(),e.TgZ(23,"nz-form-control",7)(24,"nz-select",12),e.NdJ("ngModelChange",function(s){return o.userOption.job=s}),e.YNc(25,ie,1,2,"nz-option",11),e.qZA()()(),e.TgZ(26,"nz-form-item")(27,"nz-form-label",9),e._uU(28,"\u89d2\u8272"),e.qZA(),e.TgZ(29,"nz-form-control",7)(30,"nz-select",13),e.NdJ("ngModelChange",function(s){return o.userOption.role=s})("ngModelChange",function(s){return o.log(s,o.user)}),e.YNc(31,se,1,2,"nz-option",11),e.qZA()()()(),e.YNc(32,ae,5,2,"div",14)),2&t){const i=e.MAs(8);e.xp6(5),e.Q6J("nzErrorTip",i),e.xp6(1),e.Q6J("ngModel",o.userOption.username),e.xp6(7),e.Q6J("ngModel",o.userOption.policeNumber),e.xp6(5),e.Q6J("ngModel",o.userOption.department)("compareWith",o.compareFn),e.xp6(1),e.Q6J("ngForOf",o.departmentList),e.xp6(5),e.Q6J("ngModel",o.userOption.job)("compareWith",o.compareFn),e.xp6(1),e.Q6J("ngForOf",o.jobList),e.xp6(5),e.Q6J("ngModel",o.userOption.role)("compareWith",o.compareFn),e.xp6(1),e.Q6J("ngForOf",o.roleList)}},directives:[l._Y,l.JL,l.F,u.Lr,g.SK,u.Nx,g.t3,u.iK,u.Fd,z.Zp,l.Fj,l.Q7,l.JJ,l.On,c.O5,_.Vq,c.sg,_.Ip,C.Uh,M.ix,Z.dQ,f.w],styles:[""]}),n})(),pe=(()=>{class n{constructor(t,o){this.urlService=t,this.http=o}getUser(t){const o=this.urlService.getUrl("/user/getUser");return this.http.post(o,t)}getUserByName(t){const o=this.urlService.getUrl("/user/getUserByName");return this.http.post(o,t)}getUserByPoliceNumber(t){const o=this.urlService.getUrl("/user/getUserByPoliceNumber");return this.http.post(o,t)}getJobList(){const t=this.urlService.getUrl("/job/getJobAll");return this.http.post(t,{})}getDepartmentList(){const t=this.urlService.getUrl("/department/getDepartmentAll");return this.http.post(t,{})}getRoleList(){const t=this.urlService.getUrl("/role/getRoleAll");return this.http.post(t,{})}createUser(t){const o=this.urlService.getUrl("/user/add");return this.http.post(o,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.i),e.LFG(b.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var O=a(5366),y=a(7730),L=a(3359),ue=a(497);function ce(n,r){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.nzText)}}function de(n,r){if(1&n&&(e.TgZ(0,"span",1),e.YNc(1,ce,2,1,"ng-container",2),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("nzStringTemplateOutlet",t.nzText)}}let Q=(()=>{class n{constructor(){this.nzType="horizontal",this.nzOrientation="center",this.nzDashed=!1,this.nzPlain=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["nz-divider"]],hostAttrs:[1,"ant-divider"],hostVars:16,hostBindings:function(t,o){2&t&&e.ekj("ant-divider-horizontal","horizontal"===o.nzType)("ant-divider-vertical","vertical"===o.nzType)("ant-divider-with-text",o.nzText)("ant-divider-plain",o.nzPlain)("ant-divider-with-text-left",o.nzText&&"left"===o.nzOrientation)("ant-divider-with-text-right",o.nzText&&"right"===o.nzOrientation)("ant-divider-with-text-center",o.nzText&&"center"===o.nzOrientation)("ant-divider-dashed",o.nzDashed)},inputs:{nzText:"nzText",nzType:"nzType",nzOrientation:"nzOrientation",nzDashed:"nzDashed",nzPlain:"nzPlain"},exportAs:["nzDivider"],decls:1,vars:1,consts:[["class","ant-divider-inner-text",4,"ngIf"],[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(t,o){1&t&&e.YNc(0,de,2,1,"span",0),2&t&&e.Q6J("ngIf",o.nzText)},directives:[c.O5,L.f],encapsulation:2,changeDetection:0}),(0,S.gn)([(0,y.yF)()],n.prototype,"nzDashed",void 0),(0,S.gn)([(0,y.yF)()],n.prototype,"nzPlain",void 0),n})(),me=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[ue.vT,c.ez,L.T]]}),n})();var h=a(4402),k=a(3837);function ge(n,r){if(1&n&&e._UZ(0,"nz-option",19),2&n){const t=r.$implicit;e.Q6J("nzLabel",t.optionName)("nzValue",t)}}function _e(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().searchUser()}),e._UZ(1,"i",21),e.qZA()}}function ze(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"a"),e._uU(11),e.qZA()(),e.TgZ(12,"td")(13,"a",22),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().updateUser(s)}),e._uU(14,"\u66f4\u65b0"),e.qZA()(),e.TgZ(15,"td")(16,"a",22),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().updatePassword(s)}),e._uU(17,"\u66f4\u65b0"),e.qZA()()()}if(2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.policeNumber),e.xp6(2),e.Oqu(t.department?t.department.departmentName:""),e.xp6(2),e.Oqu(t.job?t.job.jobName:"\u6682\u65e0"),e.xp6(3),e.hij(" ",t.role?t.role.roleName:"\u6682\u65e0","")}}function he(n,r){1&n&&e._UZ(0,"nz-pagination",23),2&n&&e.Q6J("nzPageIndex",2)("nzTotal",50)("nzPageSize",10)}function fe(n,r){1&n&&(e.TgZ(0,"a"),e._uU(1,"More"),e.qZA())}const Ce=function(){return{y:"500px"}};let Te=(()=>{class n{constructor(t,o,i,s){this.uerService=t,this.cd=o,this.message=i,this.modalService=s,this.listOfUser=[],this.user=new m.n5,this.roleList=[],this.jobList=[],this.departmentList=[],this.pageIndex=1,this.pageSize=20,this.page=new m.T3,this.getUserOptions=[{optionName:"\u8b66\u53f7",optionValue:"policeNumber"},{optionName:"\u7528\u6237\u540d",optionValue:"username"}],this.searchOption={optionName:"\u8b66\u53f7",optionValue:"policeNumber"},this.compareFn=(p,d)=>p&&d?p.optionValue===d.optionValue:p===d,this.isVisible=!1,this.loading=!1}ngOnInit(){this.pageChange(),this.getJobList(),this.getRoleList(),this.getDepartmentList(),this.getUser()}getUser(){this.uerService.getUser(this.page).subscribe(t=>{this.listOfUser=t})}openModal(t){this.modalTitle=t,this.modalService.create({nzTitle:"\u65b0\u5efa\u7528\u6237",nzContent:X}),this.cd.detectChanges()}updateUser(t){this.user=t,this.modalService.create({nzTitle:"\u66f4\u65b0\u7528\u6237",nzContent:le,nzComponentParams:{user:t}})}updatePassword(t){}createUser(){this.loading=!0,this.uerService.createUser(this.user).subscribe(t=>{this.loading=!1,this.message.success("\u6dfb\u52a0\u7528\u6237\u6210\u529f"),this.closeModal()})}editUser(){}searchUser(){const t={[this.searchOption.optionValue]:this.searchValue};this.searchValue?"policeName"===this.searchOption.optionValue?this.searchByName(t):this.searchByPoliceNumber(t):this.getUser()}searchByName(t){this.uerService.getUserByName(t).subscribe(o=>{this.listOfUser=o})}searchByPoliceNumber(t){t.policeNumber=t.policeNumber.toString(),this.uerService.getUserByPoliceNumber(t).subscribe(o=>{this.listOfUser=o})}pageIndexChange(t){this.page.pageIndex=t,this.getUser()}PageSizeChange(t){this.page.pageSize=t,this.getUser()}pageChange(){this.page.pageIndex=this.pageIndex,this.page.pageSize=this.pageSize}handleCancel(){this.user=new m.n5,this.closeModal()}handleOk(){this.closeModal()}change(t){console.log(t)}closeModal(){this.isVisible=!1}getJobList(){this.uerService.getJobList().subscribe(t=>{this.jobList=t})}getDepartmentList(){this.uerService.getDepartmentList().subscribe(t=>{this.departmentList=t})}getRoleList(){this.uerService.getRoleList().subscribe(t=>{this.roleList=t})}ngAfterViewInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(pe),e.Y36(e.sBO),e.Y36(N.dD),e.Y36(C.Sf))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user"]],decls:39,vars:16,consts:[[1,"content"],["nzTitle","\u7528\u6237\u7ba1\u7406",3,"nzBordered","nzExtra"],["nz-row","",1,"tool"],["nz-col","","nzSpan","5"],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzSpan","9",3,"nzOffset"],["nzSearch","",3,"nzAddOnAfter"],["nz-row",""],["nz-col","","nzSpan","14","type","text","nz-input","","placeholder","\u7528\u6237\u641c\u7d22 ",3,"ngModel","ngModelChange"],["nz-col","","nzSpan","10",3,"compareWith","nzPlaceHolder","ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["suffixIconButton",""],["nzShowSizeChanger","",2,"height","calc(100vh - 340px)",3,"nzData","nzScroll","nzTotal","nzPageIndex","nzPageSize","nzPageIndexChange","nzPageSizeChange"],["basicTable",""],["nzWidth","80px"],["nzWidth","150px"],[4,"ngFor","ngForOf"],["footer",""],["extraTemplate",""],[3,"nzLabel","nzValue"],["nz-button","","nzType","primary","nzSearch","",3,"click"],["nz-icon","","nzType","search"],[3,"click"],["nzShowSizeChanger","",3,"nzPageIndex","nzTotal","nzPageSize"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"nz-card",1)(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return o.openModal("\u65b0\u5efa\u7528\u6237")}),e._uU(5,"\u65b0\u5efa\u7528\u6237"),e.qZA()(),e.TgZ(6,"div",5)(7,"nz-input-group",6)(8,"div",7)(9,"input",8),e.NdJ("ngModelChange",function(s){return o.searchValue=s}),e.qZA(),e.TgZ(10,"nz-select",9),e.NdJ("ngModelChange",function(s){return o.searchOption=s}),e.YNc(11,ge,1,2,"nz-option",10),e.qZA()()(),e.YNc(12,_e,2,0,"ng-template",null,11,e.W1O),e.qZA()(),e._UZ(14,"nz-divider"),e.TgZ(15,"nz-table",12,13),e.NdJ("nzPageIndexChange",function(s){return o.pageIndex=s})("nzPageIndexChange",function(s){return o.pageIndexChange(s)})("nzPageSizeChange",function(s){return o.PageSizeChange(s)})("nzPageSizeChange",function(s){return o.pageSize=s}),e.TgZ(17,"thead")(18,"tr")(19,"th",14),e._uU(20,"\u7528\u6237\u540d"),e.qZA(),e.TgZ(21,"th",14),e._uU(22,"\u8b66\u53f7"),e.qZA(),e.TgZ(23,"th",14),e._uU(24,"\u90e8\u95e8"),e.qZA(),e.TgZ(25,"th",14),e._uU(26,"\u5c97\u4f4d"),e.qZA(),e.TgZ(27,"th",14),e._uU(28,"\u89d2\u8272"),e.qZA(),e.TgZ(29,"th",15),e._uU(30,"\u66f4\u65b0"),e.qZA(),e.TgZ(31,"th",15),e._uU(32,"\u4fee\u6539\u5bc6\u7801"),e.qZA()()(),e.TgZ(33,"tbody"),e.YNc(34,ze,18,5,"tr",16),e.qZA(),e.YNc(35,he,1,3,"ng-template",null,17,e.W1O),e.qZA(),e.YNc(37,fe,2,0,"ng-template",null,18,e.W1O),e.qZA()()),2&t){const i=e.MAs(13),s=e.MAs(16),p=e.MAs(38);e.xp6(1),e.Q6J("nzBordered",!1)("nzExtra",p),e.xp6(5),e.Q6J("nzOffset",10),e.xp6(1),e.Q6J("nzAddOnAfter",i),e.xp6(2),e.Q6J("ngModel",o.searchValue),e.xp6(1),e.Q6J("compareWith",o.compareFn)("nzPlaceHolder","\u8bf7\u9009\u62e9\u7c7b\u578b")("ngModel",o.searchOption),e.xp6(1),e.Q6J("ngForOf",o.getUserOptions),e.xp6(4),e.Q6J("nzData",o.listOfUser)("nzScroll",e.DdM(15,Ce))("nzTotal",200)("nzPageIndex",o.pageIndex)("nzPageSize",o.pageSize),e.xp6(19),e.Q6J("ngForOf",s.data)}},directives:[O.bd,g.SK,g.t3,M.ix,Z.dQ,f.w,z.gB,z.Zp,l.Fj,l.JJ,l.On,_.Vq,c.sg,_.Ip,A.Ls,Q,h.N8,h.Om,h.$Z,h.Uo,h._C,h.p0,k.dE],styles:[""]}),n})(),Ue=(()=>{class n{constructor(t,o){this.urlService=t,this.http=o}getDepartmentList(){const t=this.urlService.getUrl("/department/getDepartmentAll");return this.http.post(t,{})}getStatus(){const t=this.urlService.getUrl("/bbs/getStatus");return this.http.post(t,{})}addTask(t){const o=this.urlService.getUrl("/task/add");return this.http.post(o,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.i),e.LFG(b.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var J=a(1387),ve=a(9890);const be=["editor"],Me=["form"];function Ze(n,r){1&n&&e._UZ(0,"nz-option")}function xe(n,r){1&n&&(e.TgZ(0,"button",15),e._UZ(1,"i",16),e.qZA())}function Ae(n,r){1&n&&(e.TgZ(0,"a"),e._uU(1,"More"),e.qZA())}function Ne(n,r){1&n&&(e.ynx(0),e._uU(1,"\u90e8\u95e8\u4e0d\u80fd\u4e3a\u7a7a"),e.BQk())}function Se(n,r){1&n&&e.YNc(0,Ne,2,0,"ng-container",36),2&n&&e.Q6J("ngIf",r.$implicit.hasError("required"))}function Je(n,r){if(1&n&&e._UZ(0,"nz-option",37),2&n){const t=r.$implicit;e.Q6J("nzValue",t)("nzLabel",t.departmentName)}}function Fe(n,r){1&n&&(e.ynx(0),e._uU(1,"\u90e8\u95e8\u4e0d\u80fd\u4e3a\u7a7a"),e.BQk())}function Oe(n,r){1&n&&e.YNc(0,Fe,2,0,"ng-container",36),2&n&&e.Q6J("ngIf",r.$implicit.hasError("required"))}function ye(n,r){if(1&n&&e._UZ(0,"nz-option",37),2&n){const t=r.$implicit;e.Q6J("nzValue",t)("nzLabel",null==t?null:t.statusName)}}function Le(n,r){1&n&&(e.ynx(0),e._uU(1,"\u72b6\u6001"),e.BQk())}function Qe(n,r){1&n&&e.YNc(0,Le,2,0,"ng-container",36),2&n&&e.Q6J("ngIf",r.$implicit.hasError("required"))}function ke(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"form",17,18)(4,"div",19)(5,"nz-form-item")(6,"nz-form-label",20),e._uU(7,"\u6807\u9898"),e.qZA(),e.TgZ(8,"nz-form-control",21)(9,"input",22),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().task.title=i}),e.qZA()()(),e.YNc(10,Se,1,1,"ng-template",null,23,e.W1O),e.qZA(),e.TgZ(12,"div",24)(13,"nz-form-item")(14,"nz-form-label",25),e._uU(15,"\u90e8\u95e8"),e.qZA(),e.TgZ(16,"nz-form-control",26)(17,"nz-select",27),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().task.department=i}),e.YNc(18,Je,1,2,"nz-option",28),e.qZA(),e.YNc(19,Oe,1,1,"ng-template",null,29,e.W1O),e.qZA()()(),e.TgZ(21,"div",19)(22,"nz-form-item")(23,"nz-form-label",25),e._uU(24,"\u72b6\u6001"),e.qZA(),e.TgZ(25,"nz-form-control",26)(26,"nz-select",30),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().task.status=i}),e.YNc(27,ye,1,2,"nz-option",28),e.qZA(),e.YNc(28,Qe,1,1,"ng-template",null,31,e.W1O),e.qZA()()(),e.TgZ(30,"div",32)(31,"div",33)(32,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw().answer()}),e._uU(33,"\u53d1\u5e03"),e.qZA()()()()(),e._UZ(34,"app-editor",null,35),e.BQk()}if(2&n){const t=e.MAs(3),o=e.MAs(11),i=e.MAs(20),s=e.MAs(29),p=e.oxw();e.xp6(6),e.Q6J("nzSpan",6),e.xp6(2),e.Q6J("nzSpan",14)("nzErrorTip",o),e.xp6(1),e.Q6J("ngModel",p.task.title),e.xp6(7),e.Q6J("nzErrorTip",i),e.xp6(1),e.Q6J("nzMaxTagCount",20)("ngModel",p.task.department)("compareWith",p.compareFn),e.xp6(1),e.Q6J("ngForOf",p.departmentList),e.xp6(7),e.Q6J("nzErrorTip",s),e.xp6(1),e.Q6J("ngModel",p.task.status),e.xp6(1),e.Q6J("ngForOf",p.statusList),e.xp6(5),e.Q6J("disabled",!t.form.valid)}}const Ee=function(){return[1,2,3,4]},De=[{path:"",component:D,children:[{path:"user",component:Te},{path:"task",component:(()=>{class n{constructor(t){this.taskS=t,this.visible=!1,this.task=new m.iQ,this.statusList=[],this.departmentList=[],this.compareFn=(o,i)=>o&&i?o._id===i._id:o===i}ngOnInit(){this.getDepartmentList(),this.getStatus()}getDepartmentList(){this.taskS.getDepartmentList().subscribe(t=>{this.departmentList=t})}getStatus(){this.taskS.getStatus().subscribe(t=>{this.statusList=t})}open(){this.visible=!0,console.log(this.form)}close(){this.visible=!1}answer(){this.task.content=this.editor.editor.getHtml(),this.taskS.addTask(this.task).subscribe(t=>{console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ue))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-task"]],viewQuery:function(t,o){if(1&t&&(e.Gf(be,5),e.Gf(Me,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.editor=i.first),e.iGM(i=e.CRH())&&(o.form=i.first)}},decls:19,vars:11,consts:[[1,"content"],["nzTitle","\u4efb\u52a1\u7ba1\u7406",3,"nzBordered","nzExtra"],["nz-row","",1,"tool"],["nz-col","","nzSpan","5"],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzSpan","9",3,"nzOffset"],["nzSearch","",3,"nzAddOnAfter"],["nz-row",""],["nz-col","","nzSpan","14","type","text","nz-input","","placeholder","\u7528\u6237\u641c\u7d22 "],["nz-col","","nzSpan","10",3,"nzPlaceHolder"],[4,"ngFor","ngForOf"],["suffixIconButton",""],["extraTemplate",""],["nzPlacement","top","nzTitle","\u65b0\u5efa\u4efb\u52a1",3,"nzClosable","nzVisible","nzHeight","nzPlacement","nzOnClose"],[4,"nzDrawerContent"],["nz-button","","nzType","primary","nzSearch",""],["nz-icon","","nzType","search"],["nz-row","","nzJustify","space-between","nz-form",""],["form","ngForm"],["nz-col","","nzSpan","6"],["nzRequired","","nzFor","title",3,"nzSpan"],["nzHasFeedback","",3,"nzSpan","nzErrorTip"],["nz-input","","name","title","required","","type","text","id","title",3,"ngModel","ngModelChange"],["titleTpl",""],["nz-col","","nzSpan","8"],["nzRequired","","nz-col","","nzSpan","4"],["nz-col","","nzSpan","18","nzHasFeedback","",3,"nzErrorTip"],["nzAllowClear","","required","","nzMode","multiple","name","department",3,"nzMaxTagCount","ngModel","compareWith","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["departmentTpl",""],["name","status","required","","nzAllowClear","",3,"ngModel","ngModelChange"],["statusTpl",""],["nz-col","","nzSpan","2"],[2,"text-align","right"],["nz-button","","nzType","primary",3,"disabled","click"],["editor",""],[4,"ngIf"],[3,"nzValue","nzLabel"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"nz-card",1)(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return o.open()}),e._uU(5,"\u65b0\u5efa\u4efb\u52a1"),e.qZA()(),e.TgZ(6,"div",5)(7,"nz-input-group",6)(8,"div",7),e._UZ(9,"input",8),e.TgZ(10,"nz-select",9),e.YNc(11,Ze,1,0,"nz-option",10),e.qZA()()(),e.YNc(12,xe,2,0,"ng-template",null,11,e.W1O),e.qZA()(),e._UZ(14,"nz-divider"),e.YNc(15,Ae,2,0,"ng-template",null,12,e.W1O),e.qZA()(),e.TgZ(17,"nz-drawer",13),e.NdJ("nzOnClose",function(){return o.close()}),e.YNc(18,ke,36,13,"ng-container",14),e.qZA()),2&t){const i=e.MAs(13),s=e.MAs(16);e.xp6(1),e.Q6J("nzBordered",!1)("nzExtra",s),e.xp6(5),e.Q6J("nzOffset",10),e.xp6(1),e.Q6J("nzAddOnAfter",i),e.xp6(3),e.Q6J("nzPlaceHolder","\u8bf7\u9009\u62e9\u7c7b\u578b"),e.xp6(1),e.Q6J("ngForOf",e.DdM(10,Ee)),e.xp6(6),e.Q6J("nzClosable",!1)("nzVisible",o.visible)("nzHeight",600)("nzPlacement","top")}},directives:[O.bd,g.SK,g.t3,M.ix,Z.dQ,f.w,z.gB,z.Zp,_.Vq,c.sg,_.Ip,A.Ls,Q,J.Vz,J.SQ,l._Y,l.JL,l.F,u.Lr,u.Nx,u.iK,u.Fd,l.Fj,l.Q7,l.JJ,l.On,c.O5,ve.P],styles:[""]}),n})()},{path:"",redirectTo:"user",pathMatch:"full"}]}];let qe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[T.Bz.forChild(De)],T.Bz]}),n})(),Be=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),we=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Be],imports:[[c.ez,E.G,qe,me,k.uK,J.BL]]}),n})()}}]);