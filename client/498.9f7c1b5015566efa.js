"use strict";(self.webpackChunkans_webapp=self.webpackChunkans_webapp||[]).push([[498],{2498:(eu,m,o)=>{o.r(m),o.d(m,{BbsModule:()=>nu});var p=o(1048),l=o(8773),a=o(9508),u=o(9724),c=o(9725),E=o(3964);let A=(()=>{class n{constructor(t,e){this.http=t,this.urlService=e}login(t){const e=this.urlService.getUrl("/login");return this.http.post(e,t)}getUser(){const t=this.urlService.getUrl("/login/profile2");return this.http.post(t,{})}register(t){const e=this.urlService.getUrl("/user/add");return this.http.post(e,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(c.eN),u.LFG(E.i))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var B=o(965),S=o(2720),z=o(963),v=o(8490),g=o(7082),d=o(5535),h=o(8918),f=o(1521),_=o(4344),x=o(8238);function J(n,i){if(1&n){const t=u.EpF();u.TgZ(0,"div",9)(1,"a",10),u.NdJ("click",function(){return u.CHM(t),u.oxw().openModal()}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(2),u.Oqu(t.user.username)}}function Q(n,i){if(1&n){const t=u.EpF();u.TgZ(0,"div",9)(1,"a",10),u.NdJ("click",function(){return u.CHM(t),u.oxw().openModal()}),u._uU(2,"\u767b\u5f55"),u.qZA()()}}function M(n,i){if(1&n){const t=u.EpF();u.TgZ(0,"div")(1,"form",11)(2,"nz-form-item")(3,"nz-form-control",12)(4,"nz-input-group",13)(5,"input",14),u.NdJ("ngModelChange",function(s){return u.CHM(t),u.oxw().user.username=s}),u.qZA()()()(),u.TgZ(6,"nz-form-item")(7,"nz-form-control",15)(8,"nz-input-group",16)(9,"input",17),u.NdJ("ngModelChange",function(s){return u.CHM(t),u.oxw().user.password=s}),u.qZA()()()(),u.TgZ(10,"nz-form-item")(11,"nz-form-control")(12,"button",18),u.NdJ("click",function(){return u.CHM(t),u.oxw().login()}),u._uU(13,"\u767b\u5f55"),u.qZA()()()()()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("nzLayout","inline")("formGroup",t.validateForm),u.xp6(4),u.Q6J("ngModel",t.user.username),u.xp6(4),u.Q6J("ngModel",t.user.password),u.xp6(3),u.Q6J("disabled",!t.validateForm.valid)}}let U=(()=>{class n{constructor(t,e,s,r,b){this.fb=t,this.router=e,this.bbsS=s,this.tokenService=r,this.messageService=b,this.user={username:"",password:""},this.dotPosition="left",this.isVisible=!1}ngOnInit(){this.validateForm=this.fb.group({userName:[null,[a.kI.required]],password:[null,[a.kI.required]],remember:[!0]})}openModal(){this.showModal()}showModal(){this.isVisible=!0}closeModal(){this.isVisible=!1}login(){this.submit()}saveToken(t){this.tokenService.token=t}getUser(){this.bbsS.getUser().subscribe(t=>{this.bbsS.userInfo=this.user=t.msg})}submit(){this.bbsS.login(this.user).subscribe(t=>{0===t.msgCode&&(this.messageService.success("\u767b\u5f55\u6210\u529f"),this.saveToken(t.access_token),this.getUser(),this.router.navigate(["/"]))})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(a.qu),u.Y36(l.F0),u.Y36(A),u.Y36(B.B),u.Y36(S.dD))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-bbs"]],decls:16,vars:7,consts:[[1,"head",2,"height","54px"],["nzAutoPlay","true","nzAutoPlaySpeed","1000",3,"nzDotPosition"],["nz-carousel-content","",1,"head-carousel-content",2,"height","54px"],["nz-carousel-content","",1,"head-carousel-content"],[1,"ntv","flex","flex-justify-content"],[1,"ntv-left",2,"color","white"],["class","ntv-right",4,"ngIf"],[3,"nzVisible","nzTitle","nzWidth","nzFooter","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],[1,"ntv-right"],[2,"color","white",3,"click"],["nz-form","",3,"nzLayout","formGroup"],["nzErrorTip","Please input your username!"],["nzPrefixIcon","user"],["formControlName","userName","nz-input","","placeholder","Username",3,"ngModel","ngModelChange"],["nzErrorTip","Please input your Password!"],["nzPrefixIcon","lock"],["formControlName","password","nz-input","","type","password","placeholder","Password",3,"ngModel","ngModelChange"],["nz-button","","nzType","primary",3,"disabled","click"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0)(1,"nz-carousel",1),u._UZ(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",3),u.qZA()(),u.TgZ(6,"div",4)(7,"div",5)(8,"div"),u._uU(9,"\u5341\u5830\u5e02\u516c\u5b89\u5c40\u5f20\u6e7e\u533a\u5206\u5c40"),u.qZA()(),u.YNc(10,J,3,1,"div",6),u.YNc(11,Q,3,0,"div",6),u.qZA(),u.TgZ(12,"div"),u._UZ(13,"router-outlet"),u.qZA(),u.TgZ(14,"nz-modal",7),u.NdJ("nzVisibleChange",function(r){return e.isVisible=r})("nzOnCancel",function(){return e.closeModal()}),u.YNc(15,M,14,5,"div",8),u.qZA()),2&t&&(u.xp6(1),u.Q6J("nzDotPosition",e.dotPosition),u.xp6(9),u.Q6J("ngIf",e.user.username),u.xp6(1),u.Q6J("ngIf",!e.user.username),u.xp6(3),u.Q6J("nzVisible",e.isVisible)("nzTitle","\u7528\u6237\u767b\u5f55")("nzWidth",600)("nzFooter",null))},directives:[z.QZ,z.pA,p.O5,l.lC,v.du,v.Hf,a._Y,a.JL,g.Lr,a.sg,d.SK,g.Nx,d.t3,g.Fd,h.w,f.gB,a.Fj,f.Zp,a.JJ,a.u,_.ix,x.dQ],styles:[".head[_ngcontent-%COMP%]   .head-carousel-content[_ngcontent-%COMP%]{background-position:50% 50%}.head[_ngcontent-%COMP%]   .head-carousel-content[_ngcontent-%COMP%]:nth-child(2n){background-image:url(top1.1865b59b2bbc71d8.jpg)}.head[_ngcontent-%COMP%]   .head-carousel-content[_ngcontent-%COMP%]:nth-child(2n+1){background-image:url(top2.bec292dd7fd5086b.jpg)}.ntv[_ngcontent-%COMP%]{height:24px;background-color:#0b81e1;display:flex;flex-direction:row;justify-content:space-between;padding:0 24px}.ntv[_ngcontent-%COMP%]   .nav-right[_ngcontent-%COMP%]{margin-left:auto}nz-footer[_ngcontent-%COMP%]{background:#7dbcea;color:#fff}nz-content[_ngcontent-%COMP%]{background:#108ee9;color:#fff;min-height:120px;line-height:120px}"]}),n})();var y=o(4121);let Z=(()=>{class n{constructor(t,e){this.http=t,this.urlService=e,this.sub=new y.X(1)}getTaskAll(){const t=this.urlService.getUrl("/task/getTaskAll");return this.http.post(t,{})}subEmit(t){this.sub.next(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(c.eN),u.LFG(E.i))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var k=o(5366);function O(n,i){if(1&n){const t=u.EpF();u.TgZ(0,"a",9),u.NdJ("click",function(){const r=u.CHM(t).$implicit;return u.oxw().submit(r)}),u.TgZ(1,"div",10)(2,"span"),u._uU(3),u.qZA()(),u.TgZ(4,"div",8)(5,"span")(6,"a",7),u._uU(7),u.qZA()()()()}if(2&n){const t=i.$implicit;u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(2),u.hij(" ",t.title," "),u.xp6(1),u.Q6J("nzSpan",6),u.xp6(3),u.Oqu(t.status.statusName)}}function P(n,i){1&n&&(u.TgZ(0,"a"),u._uU(1,"\u66f4\u591a"),u.qZA())}function q(n,i){1&n&&(u.TgZ(0,"a"),u._uU(1,"\u66f4\u591a"),u.qZA())}function N(n,i){1&n&&(u.TgZ(0,"a"),u._uU(1,"\u66f4\u591a"),u.qZA())}function G(n,i){1&n&&(u.TgZ(0,"a"),u._uU(1,"\u66f4\u591a"),u.qZA())}const w=function(){return[16,24]};let Y=(()=>{class n{constructor(t){this.cardS=t,this.isVisible=!1,this.taskList=[]}ngOnInit(){this.getTaskAll()}showModal(){this.isVisible=!0}getTaskAll(){this.cardS.getTaskAll().subscribe(t=>{this.taskList=t})}submit(t){this.cardS.subEmit(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Z))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-cards"]],decls:153,vars:60,consts:[["nz-row","",1,"content",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nzTitle","\u9879\u76ee\u4e00",1,"card-content",3,"nzBordered","nzExtra"],["routerLink","/bbs/details","nz-row","",3,"nzGutter","click",4,"ngFor","ngForOf"],["extraTemplate1",""],["nz-row","",3,"nzGutter"],["nz-col","",1,"text-ellipsis",3,"nzSpan"],["href",""],["nz-col","",2,"text-align","right",3,"nzSpan"],["routerLink","/bbs/details","nz-row","",3,"nzGutter","click"],["nz-col","",1,"content-item","text-ellipsis",3,"nzSpan"]],template:function(t,e){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"nz-card",2),u.YNc(3,O,8,5,"a",3),u.qZA(),u.YNc(4,P,2,0,"ng-template",null,4,u.W1O),u.qZA(),u.TgZ(6,"div",1)(7,"nz-card",2)(8,"div",5)(9,"div",6)(10,"span")(11,"a",7),u._uU(12,"\u5173\u4e8e\u5e02\u653f\u52a1\u670d\u52a1\u4e2d\u5fc3\u5404\u7a97\u53e3\u4e1a\u52a1\u529e\u7406\u5b9e\u884c\u201c\u7f51\u4e0a\u529e\u201d\u3001\u201c\u9884\u7ea6\u529e\u201d\u3001\u201c\u81ea\u52a9\u529e\u201d\u7b49\u65b9\u5f0f\u7684\u516c\u544a"),u.qZA()()(),u.TgZ(13,"div",8)(14,"span")(15,"a",7),u._uU(16,"\u529e\u7ed3"),u.qZA()()()(),u.TgZ(17,"div",5)(18,"div",6)(19,"span")(20,"a",7),u._uU(21,"\u5173\u4e8e\u5e02\u653f\u52a1\u670d\u52a1\u4e2d\u5fc3\u5404\u7a97\u53e3\u4e1a\u52a1\u529e\u7406\u5b9e\u884c\u201c\u7f51\u4e0a\u529e\u201d\u3001\u201c\u9884\u7ea6\u529e\u201d\u3001\u201c\u81ea\u52a9\u529e\u201d\u7b49\u65b9\u5f0f\u7684\u516c\u544a"),u.qZA()()(),u.TgZ(22,"div",8)(23,"span")(24,"a",7),u._uU(25,"\u529e\u7ed3"),u.qZA()()()(),u.TgZ(26,"div",5)(27,"div",6)(28,"span")(29,"a",7),u._uU(30,"\u5173\u4e8e\u5e02\u653f\u52a1\u670d\u52a1\u4e2d\u5fc3\u5404\u7a97\u53e3\u4e1a\u52a1\u529e\u7406\u5b9e\u884c\u201c\u7f51\u4e0a\u529e\u201d\u3001\u201c\u9884\u7ea6\u529e\u201d\u3001\u201c\u81ea\u52a9\u529e\u201d\u7b49\u65b9\u5f0f\u7684\u516c\u544a"),u.qZA()()(),u.TgZ(31,"div",8)(32,"span")(33,"a",7),u._uU(34,"\u529e\u7ed3"),u.qZA()()()(),u.TgZ(35,"div",5)(36,"div",6)(37,"span")(38,"a",7),u._uU(39,"\u5173\u4e8e\u5e02\u653f\u52a1\u670d\u52a1\u4e2d\u5fc3\u5404\u7a97\u53e3\u4e1a\u52a1\u529e\u7406\u5b9e\u884c\u201c\u7f51\u4e0a\u529e\u201d\u3001\u201c\u9884\u7ea6\u529e\u201d\u3001\u201c\u81ea\u52a9\u529e\u201d\u7b49\u65b9\u5f0f\u7684\u516c\u544a"),u.qZA()()(),u.TgZ(40,"div",8)(41,"span")(42,"a",7),u._uU(43,"\u529e\u7ed3"),u.qZA()()()(),u.TgZ(44,"div",5)(45,"div",6)(46,"span")(47,"a",7),u._uU(48,"\u5173\u4e8e\u5e02\u653f\u52a1\u670d\u52a1\u4e2d\u5fc3\u5404\u7a97\u53e3\u4e1a\u52a1\u529e\u7406\u5b9e\u884c\u201c\u7f51\u4e0a\u529e\u201d\u3001\u201c\u9884\u7ea6\u529e\u201d\u3001\u201c\u81ea\u52a9\u529e\u201d\u7b49\u65b9\u5f0f\u7684\u516c\u544a"),u.qZA()()(),u.TgZ(49,"div",8)(50,"span")(51,"a",7),u._uU(52,"\u529e\u7ed3"),u.qZA()()()()(),u.YNc(53,q,2,0,"ng-template",null,4,u.W1O),u.qZA(),u.TgZ(55,"div",1)(56,"nz-card",2)(57,"div",5)(58,"div",6)(59,"span")(60,"a",7),u._uU(61,"\u5173\u4e8e\u5e02\u653f\u52a1\u670d\u52a1\u4e2d\u5fc3\u5404\u7a97\u53e3\u4e1a\u52a1\u529e\u7406\u5b9e\u884c\u201c\u7f51\u4e0a\u529e\u201d\u3001\u201c\u9884\u7ea6\u529e\u201d\u3001\u201c\u81ea\u52a9\u529e\u201d\u7b49\u65b9\u5f0f\u7684\u516c\u544a"),u.qZA()()(),u.TgZ(62,"div",8)(63,"span")(64,"a",7),u._uU(65,"\u529e\u7ed3"),u.qZA()()()(),u.TgZ(66,"div",5)(67,"div",6)(68,"span")(69,"a",7),u._uU(70,"\u5173\u4e8e\u5e02\u653f\u52a1\u670d\u52a1\u4e2d\u5fc3\u5404\u7a97\u53e3\u4e1a\u52a1\u529e\u7406\u5b9e\u884c\u201c\u7f51\u4e0a\u529e\u201d\u3001\u201c\u9884\u7ea6\u529e\u201d\u3001\u201c\u81ea\u52a9\u529e\u201d\u7b49\u65b9\u5f0f\u7684\u516c\u544a"),u.qZA()()(),u.TgZ(71,"div",8)(72,"span")(73,"a",7),u._uU(74,"\u529e\u7ed3"),u.qZA()()()(),u.TgZ(75,"div",5)(76,"div",6)(77,"span")(78,"a",7),u._uU(79,"\u5173\u4e8e\u5e02\u653f\u52a1\u670d\u52a1\u4e2d\u5fc3\u5404\u7a97\u53e3\u4e1a\u52a1\u529e\u7406\u5b9e\u884c\u201c\u7f51\u4e0a\u529e\u201d\u3001\u201c\u9884\u7ea6\u529e\u201d\u3001\u201c\u81ea\u52a9\u529e\u201d\u7b49\u65b9\u5f0f\u7684\u516c\u544a"),u.qZA()()(),u.TgZ(80,"div",8)(81,"span")(82,"a",7),u._uU(83,"\u529e\u7ed3"),u.qZA()()()(),u.TgZ(84,"div",5)(85,"div",6)(86,"span")(87,"a",7),u._uU(88,"\u5173\u4e8e\u5e02\u653f\u52a1\u670d\u52a1\u4e2d\u5fc3\u5404\u7a97\u53e3\u4e1a\u52a1\u529e\u7406\u5b9e\u884c\u201c\u7f51\u4e0a\u529e\u201d\u3001\u201c\u9884\u7ea6\u529e\u201d\u3001\u201c\u81ea\u52a9\u529e\u201d\u7b49\u65b9\u5f0f\u7684\u516c\u544a"),u.qZA()()(),u.TgZ(89,"div",8)(90,"span")(91,"a",7),u._uU(92,"\u529e\u7ed3"),u.qZA()()()(),u.TgZ(93,"div",5)(94,"div",6)(95,"span")(96,"a",7),u._uU(97,"\u5173\u4e8e\u5e02\u653f\u52a1\u670d\u52a1\u4e2d\u5fc3\u5404\u7a97\u53e3\u4e1a\u52a1\u529e\u7406\u5b9e\u884c\u201c\u7f51\u4e0a\u529e\u201d\u3001\u201c\u9884\u7ea6\u529e\u201d\u3001\u201c\u81ea\u52a9\u529e\u201d\u7b49\u65b9\u5f0f\u7684\u516c\u544a"),u.qZA()()(),u.TgZ(98,"div",8)(99,"span")(100,"a",7),u._uU(101,"\u529e\u7ed3"),u.qZA()()()()(),u.YNc(102,N,2,0,"ng-template",null,4,u.W1O),u.qZA(),u.TgZ(104,"div",1)(105,"nz-card",2)(106,"div",5)(107,"div",6)(108,"span")(109,"a",7),u._uU(110,"\u5173\u4e8e\u5e02\u653f\u52a1\u670d\u52a1\u4e2d\u5fc3\u5404\u7a97\u53e3\u4e1a\u52a1\u529e\u7406\u5b9e\u884c\u201c\u7f51\u4e0a\u529e\u201d\u3001\u201c\u9884\u7ea6\u529e\u201d\u3001\u201c\u81ea\u52a9\u529e\u201d\u7b49\u65b9\u5f0f\u7684\u516c\u544a"),u.qZA()()(),u.TgZ(111,"div",8)(112,"span")(113,"a",7),u._uU(114,"\u529e\u7ed3"),u.qZA()()()(),u.TgZ(115,"div",5)(116,"div",6)(117,"span")(118,"a",7),u._uU(119,"\u5173\u4e8e\u5e02\u653f\u52a1\u670d\u52a1\u4e2d\u5fc3\u5404\u7a97\u53e3\u4e1a\u52a1\u529e\u7406\u5b9e\u884c\u201c\u7f51\u4e0a\u529e\u201d\u3001\u201c\u9884\u7ea6\u529e\u201d\u3001\u201c\u81ea\u52a9\u529e\u201d\u7b49\u65b9\u5f0f\u7684\u516c\u544a"),u.qZA()()(),u.TgZ(120,"div",8)(121,"span")(122,"a",7),u._uU(123,"\u529e\u7ed3"),u.qZA()()()(),u.TgZ(124,"div",5)(125,"div",6)(126,"span")(127,"a",7),u._uU(128,"\u5173\u4e8e\u5e02\u653f\u52a1\u670d\u52a1\u4e2d\u5fc3\u5404\u7a97\u53e3\u4e1a\u52a1\u529e\u7406\u5b9e\u884c\u201c\u7f51\u4e0a\u529e\u201d\u3001\u201c\u9884\u7ea6\u529e\u201d\u3001\u201c\u81ea\u52a9\u529e\u201d\u7b49\u65b9\u5f0f\u7684\u516c\u544a"),u.qZA()()(),u.TgZ(129,"div",8)(130,"span")(131,"a",7),u._uU(132,"\u529e\u7ed3"),u.qZA()()()(),u.TgZ(133,"div",5)(134,"div",6)(135,"span")(136,"a",7),u._uU(137,"\u5173\u4e8e\u5e02\u653f\u52a1\u670d\u52a1\u4e2d\u5fc3\u5404\u7a97\u53e3\u4e1a\u52a1\u529e\u7406\u5b9e\u884c\u201c\u7f51\u4e0a\u529e\u201d\u3001\u201c\u9884\u7ea6\u529e\u201d\u3001\u201c\u81ea\u52a9\u529e\u201d\u7b49\u65b9\u5f0f\u7684\u516c\u544a"),u.qZA()()(),u.TgZ(138,"div",8)(139,"span")(140,"a",7),u._uU(141,"\u529e\u7ed3"),u.qZA()()()(),u.TgZ(142,"div",5)(143,"div",6)(144,"span")(145,"a",7),u._uU(146,"\u5173\u4e8e\u5e02\u653f\u52a1\u670d\u52a1\u4e2d\u5fc3\u5404\u7a97\u53e3\u4e1a\u52a1\u529e\u7406\u5b9e\u884c\u201c\u7f51\u4e0a\u529e\u201d\u3001\u201c\u9884\u7ea6\u529e\u201d\u3001\u201c\u81ea\u52a9\u529e\u201d\u7b49\u65b9\u5f0f\u7684\u516c\u544a"),u.qZA()()(),u.TgZ(147,"div",8)(148,"span")(149,"a",7),u._uU(150,"\u529e\u7ed3"),u.qZA()()()()(),u.YNc(151,G,2,0,"ng-template",null,4,u.W1O),u.qZA()()),2&t){const s=u.MAs(5);u.Q6J("nzGutter",u.DdM(59,w)),u.xp6(1),u.Q6J("nzSpan",12),u.xp6(1),u.Q6J("nzBordered",!1)("nzExtra",s),u.xp6(1),u.Q6J("ngForOf",e.taskList),u.xp6(3),u.Q6J("nzSpan",12),u.xp6(1),u.Q6J("nzBordered",!1)("nzExtra",s),u.xp6(1),u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(4),u.Q6J("nzSpan",6),u.xp6(4),u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(4),u.Q6J("nzSpan",6),u.xp6(4),u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(4),u.Q6J("nzSpan",6),u.xp6(4),u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(4),u.Q6J("nzSpan",6),u.xp6(4),u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(4),u.Q6J("nzSpan",6),u.xp6(6),u.Q6J("nzSpan",12),u.xp6(1),u.Q6J("nzBordered",!1)("nzExtra",s),u.xp6(1),u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(4),u.Q6J("nzSpan",6),u.xp6(4),u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(4),u.Q6J("nzSpan",6),u.xp6(4),u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(4),u.Q6J("nzSpan",6),u.xp6(4),u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(4),u.Q6J("nzSpan",6),u.xp6(4),u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(4),u.Q6J("nzSpan",6),u.xp6(6),u.Q6J("nzSpan",12),u.xp6(1),u.Q6J("nzBordered",!1)("nzExtra",s),u.xp6(1),u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(4),u.Q6J("nzSpan",6),u.xp6(4),u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(4),u.Q6J("nzSpan",6),u.xp6(4),u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(4),u.Q6J("nzSpan",6),u.xp6(4),u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(4),u.Q6J("nzSpan",6),u.xp6(4),u.Q6J("nzGutter",16),u.xp6(1),u.Q6J("nzSpan",18),u.xp6(4),u.Q6J("nzSpan",6)}},directives:[d.SK,d.t3,k.bd,p.sg,l.yS],styles:[".content[_ngcontent-%COMP%]{padding:24px}.content[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{box-shadow:0 .5em 1em #00000026;border:1px solid #dee2e6!important;min-height:400px}.content[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;margin-top:8px}"]}),n})();var H=o(8718);let L=(()=>{class n{constructor(t,e){this.http=t,this.urlService=e}reply(t){const e=this.urlService.getUrl("/task/reply");return this.http.post(e,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(c.eN),u.LFG(E.i))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var D=o(4800),F=o(2438),C=o(1387),V=o(9890);let I=(()=>{class n{constructor(t){this.sanitized=t}transform(t){return this.sanitized.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(D.H7,16))},n.\u0275pipe=u.Yjl({name:"safeHtml",type:n,pure:!0}),n})();const j=["editor"];function R(n,i){if(1&n){const t=u.EpF();u.TgZ(0,"div",12)(1,"button",13),u.NdJ("click",function(){return u.CHM(t),u.oxw().open()}),u._uU(2,"\u56de\u590d"),u.qZA()()}}function W(n,i){1&n&&(u.ynx(0),u._UZ(1,"app-editor",null,14),u.BQk())}function X(n,i){if(1&n){const t=u.EpF();u.TgZ(0,"div",15)(1,"button",13),u.NdJ("click",function(){return u.CHM(t),u.oxw().reply()}),u._uU(2,"\u56de\u590d"),u.qZA()()}}const $=[{path:"",component:U,children:[{path:"cards",component:Y},{path:"details",component:(()=>{class n{constructor(t,e,s,r){this.cards=t,this.bbs=e,this.detailsS=s,this.domSanitizer=r,this.isVisible=!1,this.isReply=!1,this.visible=!1,this.task=new H.iQ}ngOnInit(){this.taskSub()}openEditor(){this.isVisible=!0}handleOk(){console.log("Button ok clicked!"),this.isVisible=!1}handleCancel(){console.log("Button cancel clicked!"),this.isVisible=!1}taskSub(){this.subS=this.cards.sub.subscribe(t=>{this.task=t;let e="";this.task.department&&this.task.department.map(s=>{e+=`  ${s.departmentName}  `}),this.task.departmentTxT=e}),this.canReply()}open(){this.visible=!0}close(){this.visible=!1}reply(){const t=this.editorC.editor.getHtml();this.detailsS.reply({reply:t,id:this.task._id}).subscribe(e=>{console.log(e)})}canReply(){const e=this.bbs.userInfo.department;this.isReply=JSON.stringify(this.task.department).includes(e._id)}ngOnDestroy(){this.subS.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Z),u.Y36(A),u.Y36(L),u.Y36(D.H7))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-details"]],viewQuery:function(t,e){if(1&t&&u.Gf(j,5),2&t){let s;u.iGM(s=u.CRH())&&(e.editorC=s.first)}},decls:19,vars:15,consts:[[1,"main"],["nzTitle","\u8be6\u60c5","nzBordered",""],["nzTitle","\u6807\u9898"],["nzTitle","\u529e\u7406\u90e8\u95e8"],["nzTitle","\u72b6\u6001"],["nzTitle","\u8be6\u60c5","nzSpan","3"],[1,"detail",3,"innerHTML"],["nzTitle","\u56de\u590d ","nzSpan","3"],["style","text-align: right",4,"ngIf"],["nzPlacement","top","nzTitle","\u56de\u590d",3,"nzClosable","nzVisible","nzHeight","nzPlacement","nzFooter","nzOnClose"],[4,"nzDrawerContent"],["drawer_footer",""],[2,"text-align","right"],["nz-button","","nzType","primary",3,"click"],["editor",""],[2,"text-align","right","padding","8px 16px"]],template:function(t,e){if(1&t&&(u.TgZ(0,"div",0)(1,"nz-descriptions",1)(2,"nz-descriptions-item",2),u._uU(3),u.qZA(),u.TgZ(4,"nz-descriptions-item",3),u._uU(5),u.qZA(),u.TgZ(6,"nz-descriptions-item",4),u._uU(7),u.qZA(),u.TgZ(8,"nz-descriptions-item",5),u._UZ(9,"div",6),u.ALo(10,"safeHtml"),u.qZA(),u.TgZ(11,"nz-descriptions-item",7),u._UZ(12,"div",6),u.ALo(13,"safeHtml"),u.YNc(14,R,3,0,"div",8),u.qZA()()(),u.TgZ(15,"nz-drawer",9),u.NdJ("nzOnClose",function(){return e.close()}),u.YNc(16,W,3,0,"ng-container",10),u.YNc(17,X,3,0,"ng-template",null,11,u.W1O),u.qZA()),2&t){const s=u.MAs(18);u.xp6(3),u.Oqu(e.task.title),u.xp6(2),u.hij(" ",e.task.department?e.task.departmentTxT:""," "),u.xp6(2),u.Oqu(e.task.status?e.task.status.statusName:""),u.xp6(2),u.Q6J("innerHTML",u.lcZ(10,11,e.task.content),u.oJD),u.xp6(3),u.Q6J("innerHTML",u.lcZ(13,13,e.task.reply),u.oJD),u.xp6(2),u.Q6J("ngIf",e.isReply),u.xp6(1),u.Q6J("nzClosable",!1)("nzVisible",e.visible)("nzHeight",600)("nzPlacement","top")("nzFooter",s)}},directives:[F.R7,F.uj,p.O5,_.ix,x.dQ,h.w,C.Vz,C.SQ,V.P],pipes:[I],styles:[".main[_ngcontent-%COMP%]{padding:16px 48px}.main[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{min-height:300px}"]}),n})()},{path:"",pathMatch:"full",redirectTo:"cards"}]}];let K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[l.Bz.forChild($)],l.Bz]}),n})();var uu=o(2574),T=o(7761),tu=o(2776);let nu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[A,{provide:T.u7,useValue:T.bF},{provide:c.TP,useClass:tu.Q,multi:!0}],imports:[[p.ez,K,uu.G,C.BL,a.UX]]}),n})()}}]);